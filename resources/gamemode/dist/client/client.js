"use strict";(()=>{function sendNuiMessage(action,data){SendNUIMessage({action,data})}function createNuiCallBacks(){RegisterNuiCallbackType("getNuiCallback");on("__cfx_nui:getNuiCallback",async(incomingData,cb)=>{const{name}=incomingData;if(name==="close-ui"){SetNuiFocus(false,false);return}if(name==="send-message"){const localData=incomingData;const{data}=localData;if(data.to==="client"){console.log(data.message);cb({notification:"Message sent to client. Press F8 to check it!"})}else if(data.to==="server"){emitNet("template:send-message",data.message)}}})}var Template=class{static open(){SetNuiFocus(true,true);const name2="template";const name=name2;sendNuiMessage("show-ui",{name2})}static sendNotification(notification){sendNuiMessage("notification",notification)}};var Delay=time=>new Promise(resolve=>setTimeout(resolve,time));function playerJoining(){FreezeEntityPosition(PlayerPedId(),false);const ped=PlayerId();ClearPedTasksImmediately(ped);RemoveAllPedWeapons(ped,true);ClearPlayerWantedLevel(PlayerId());ShutdownLoadingScreen();ShutdownLoadingScreenNui();console.log("Hello World!")}function Revive(){const ped=PlayerPedId();SetEntityHealth(ped,200);ClearPedBloodDamage(ped);ResetPedVisibleDamage(ped);ClearPedLastWeaponDamage(ped);ResetPedMovementClipset(ped,0);ClearPedTasksImmediately(ped)}setImmediate(()=>{while(true){Wait(0);if(NetworkIsPlayerActive(PlayerId())){playerJoining();Revive();break}}});on("onResourceStart",resName=>{if(resName===GetCurrentResourceName()){console.log(`TypeScript template started! Use '/template' command to open the UI menu.`)}});createNuiCallBacks();RegisterCommand("template",Template.open,false);RegisterCommand("car",async(source,args,rawCommand)=>{const[model]=args;const modelHash=GetHashKey(model);if(!IsModelInCdimage(modelHash))return;RequestModel(modelHash);while(!HasModelLoaded(modelHash))await Delay(100);const[x,y,z]=GetEntityCoords(PlayerPedId(),true);const h=GetEntityHeading(PlayerPedId());const a="Oui les amis, je suis beau";const veh=CreateVehicle(modelHash,x,y,z,h,true,true);while(!DoesEntityExist(veh))await Delay(100);SetPedIntoVehicle(PlayerPedId(),veh,-1);console.log(modelHash);console.log(a);SetVehicleColours(veh,65,12)},false);onNet("template:send-notification",Template.sendNotification);})();
